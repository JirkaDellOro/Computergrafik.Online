<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <link rel='stylesheet' type='text/css' href='rgb.css'>
</head>
<body>
    <canvas></canvas>
<form>
    <span><label for="r">Red</label><br><input id="r" name="r" type="range" value="0" min="0" max="255"></span>
    <span><label for="g">Green</label><br><input id="g" name="g" type="range" value="0" min="0" max="255"></span>
    <span><label for="b">Blue</label><br><input id="b" name="b" type="range" value="0" min="0" max="255"></span>
</form>
</body>
<script>
    var canvas = document.querySelector("canvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    canvas.style.width = window.innerWidth;
    canvas.style.height = window.innerHeight;
    var ctx = canvas.getContext('2d');
    let screen = false;

    //make it responsive
    window.addEventListener('resize', resize);
    function resize(){
        console.log(window.innerWidth);
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.style.width = window.innerWidth;
        canvas.style.height = window.innerHeight;
        draw();
    }

    // Pick out the form elements for easy access later
    var r = document.querySelector('#r');
    var g = document.querySelector('#g');
    var b = document.querySelector('#b');

    // Animation function
    function draw(){
        if(canvas.width <= 600){
            screen = true;
        }else{
            screen = false;
        }
        // clear the canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        // draw the cube
        if(screen == true){ // if its a small screen
            drawCube(
                window.innerWidth/2,
                window.innerHeight/2 + 170,
                170,
                170,
                170, //length der Zeichnung
                Number(r.value),
                Number(g.value),
                Number(b.value)
            );
            document.getElementById("r").setAttribute("max", "170");
            document.getElementById("g").setAttribute("max", "170");
            document.getElementById("b").setAttribute("max", "170");
        }else{
            drawCube(
                window.innerWidth/2,
                window.innerHeight/2 + 255 ,
                255,
                255,
                255,
                Number(r.value),
                Number(g.value),
                Number(b.value)
            );
        }
        requestAnimationFrame(draw);
    }
    draw();

    // Draw a cube to the specified specs
    function drawCube(x, y, wx, wy, h, r, g, b) {

        ctx.beginPath();
        // blue(Z-Axis)
        ctx.moveTo(x - wx , y - wx * 0.5);
        ctx.lineTo(x , y - wx);
        // red(X-Axis)
        ctx.lineTo(x + wx, y - wx * 0.5);
        // green(Y-Axis)
        ctx.moveTo(x, y - wx);
        ctx.lineTo(x, y - h - wx);
        ctx.strokeStyle = "#000000";
        ctx.stroke();
        ctx.closePath();

        //draw the current location of the dot
        ctx.beginPath();
        ctx.arc(x - r + b, y - h + r * 0.5 + b * 0.5 - g, 15, 0, 2 * Math.PI);
        if(screen == true)
            var rgbString = "rgb(" + (r * 1.5).toString() +"," + (g * 1.5).toString() + "," + (b * 1.5).toString() + ")";
        else
            var rgbString = "rgb(" + r.toString() +"," + g.toString() + "," + b.toString() + ")";
        ctx.strokeStyle = rgbString;
        ctx.stroke();
        ctx.fillStyle = rgbString;
        ctx.fill();
        ctx.closePath();
        //draw the declarations
        //red
        ctx.beginPath();
        ctx.fillStyle = "#ff0000";
        ctx.font = "25px Arial";
        if(!screen){
            ctx.fillText("Red(1,0,0)", x - wx - 40, y - wx * 0.5 + 30);
            ctx.fillStyle = "#0000ff";
            ctx.fillText("Blue(0,0,1)", x + wx - 40, y - wx * 0.5 + 30)
        }else{
            ctx.fillText("Red(1,0,0)", x - wx - 10, y - wx * 0.5 + 30);
            ctx.fillStyle = "#0000ff";
            ctx.fillText("Blue(0,0,1)", x + wx - 110, y - wx * 0.5 + 30)
        }
        //green
        ctx.fillStyle = "#00ff00";
        ctx.fillText("Green(0,1,0)", x - 50, y - wx * 2 - 25);
    }
    
</script>
</html>
